# 데이터 시각화

## visualization

```python
import seaborn as sns 
anscombe = sns.load_dataset("anscombe") 
print(anscombe)
print(type(anscombe))
```

- seaborn  라이브러리에 있는 데이터 집합들을 활용 할 것
- load_dataset을 통해 앤스콤 데이터 집합을 불러온다

```python
plt.plot(dataset_1['x'], dataset_1['y'], 'o')
```

- plt.plot() 내에 x축과 y축에 해당하는 열을 전달
- 선으로 이루어진 그래프가 아닌 점으로 이루어진 그래프를 만들기 위해서는 o를 세 번째 인자로 전달하면 된다



```python
fig = plt.figure()
```

- 그래프 격자가 위치할 기본 틀을 만든다

```python
axes1 = fig.add_subplot(2, 2, 1)
axes2 = fig.add_subplot(2, 2, 2)
axes3 = fig.add_subplot(2, 2, 3)
axes4 = fig.add_subplot(2, 2, 4)
```

- add_subplot 메서드로 그래프 격자를 그린다
- 첫 번째 인자 : 그래프 기본 틀의 행 크기
- 두 번째 인자 : 그래프 기본 틀의 열 크기
- 세 번째 인자 : ? 그래프의 위치..? 순서..?

```python
axes1.plot(dataset_1['x'], dataset_1['y'], 'o') 
axes2.plot(dataset_2['x'], dataset_2['y'], 'o') 
axes3.plot(dataset_3['x'], dataset_3['y'], 'o') 
axes4.plot(dataset_4['x'], dataset_4['y'], 'o')
```

- 각 틀에 plot 메서드를 통해 데이터를 전달
- 점 그래프를 그리기 위해 o를 세 번째 인자로 넣어줌

```python
axes1.set_title("dataset_1") 
fig.suptitle("Anscombe Data")
```

- set_title 메서드로 그래프 이름을 전달 : 그래프 격자에 제목이 추가된다
- suptitle 메서드로 기본 틀에 제목을 추가

```python
fig.tight_layout()
```

- 그래프의 글자가 겹쳐 보기 힘든 경우 tight_layout 메서드를 통해 각 그래프의 레이아웃 조절 가능



## matplotlib 기초 그래프 그리기

#### 히스토그램

> 변수 하나만 사용해서 그린 그래프 : 일변량 그래프

```python
axes1.hist(tips['total_bill'], bins=10) 
axes1.set_title('Histogram of Total Bill')
axes1.set_xlabel('Frequency') 
axes1.set_ylabel('Total Bill') 
```

- .hist() 메서드에 열을 전달하여 만든다
- 이 때 bins의 인잣값 : x축의 간격 조절
- set_title, set_xlabel, set_ylabel : 그래프의 제목과 x,y축의 제목을 추가



#### 산점도 그래프

> 변수 2개를 사용한 그래프 : 이변량 그래프

```python
scatter_plot = plt.figure() 
axes1 = scatter_plot.add_subplot(1, 1, 1) 
axes1.scatter(tips['total_bill'], tips['tip']) 
# total_bill 열에 따른 tip 열의 분포
axes1.set_title('Scatterplot of Total Bill vs Tip') 
axes1.set_xlabel('Total Bill') 
axes1.set_ylabel('Tip')
```

- total_bill 열에 따른 tip 열의 분포를 나타낸 산점도
- .scatter()메서드



#### 박스 그래프

> 이산형 변수와 연속형 변수를 함께 사용하는 그래프
>
> 이산형 변수 : 여성, 남성처럼 명확하게 구분되는 값
>
> 연속형 변수 : tip처럼 명확하게 셀 수 없는 범위의 값

```python
boxplot = plt.figure() 
axes1 = boxplot.add_subplot(1, 1, 1) 

axes1.boxplot( 
    [tips[tips['sex'] == 'Female']['tip'], 
     tips[tips['sex'] == 'Male']['tip']], 
    labels=['Female', 'Male'])


axes1.set_xlabel('Sex') 
axes1.set_ylabel('Tip') 
axes1.set_title('Boxplot of Tips by Sex')
```

- 근데 박스 그래프는 어떻게 읽는거지

  ![image-20200219165656338](C:\Users\student\AppData\Roaming\Typora\typora-user-images\image-20200219165656338.png)

- .boxplot()메서드 활용

- 첫 번째 인자값 : 원하는 데이터 추출하여 리스트에 담아 전달한 것

- 두 번째 인잣값 : labels 인잣값



#### 다변량 그래프

> 3개 이상의 변수를 사용한 그래프

```python
def recode_sex(sex):
    if sex == 'Female':
        return 0 
    else:
        return 1
 # 여성이면 0, 남성이면 1을 반환하는 함수   
    
tips['sex_color'] = tips['sex'].apply(recode_sex)

# recode_sex 메서드가 반환한 값(0,1)을 데이터프레임에 추가
```

- apply 메서드 : sex열에 recode_sex 함수를 브로드캐스팅하기 위해 사용







